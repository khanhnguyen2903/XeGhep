{% load static %}
<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>T·∫°o chuy·∫øn ƒëi m·ªõi</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #56ccf2, #2f80ed);
            min-height: 100vh;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', sans-serif;
            padding-top: 50px;
            padding-bottom: 50px;
        }

        .card {
            border: none;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            max-width: 600px;
            width: 100%;
            background: #fff;
        }

        .card-header {
            background: #2f80ed;
            color: white;
            border-radius: 20px 20px 0 0;
            text-align: center;
            font-size: 1.5rem;
            padding: 1rem;
            font-weight: 600;
        }

        .btn-create {
            background-color: #2f80ed;
            color: #fff;
            font-size: 1.1rem;
            border-radius: 30px;
            padding: 0.75rem 2rem;
            transition: all 0.3s ease;
        }

        .btn-create:hover {
            background-color: #1c60b3;
            transform: translateY(-2px);
        }

        .form-label {
            font-weight: 600;
        }

        .is-invalid {
            border: 2px solid #dc3545 !important;
            background-color: #ffe6e6;
        }

        @media (max-width: 768px) {
            .card {
                margin: 20px;
            }
        }
    </style>
</head>

<body>
    <div style="position: fixed; top: 10px; left: 20px; color: white; font-weight: 600; font-size: 1.1rem;">
        Xin ch√†o {{ driver_name }} üëã
    </div>

    <div class="card">
        <div class="card-header">
            üöó Kh·ªüi t·∫°o chuy·∫øn ƒëi m·ªõi
        </div>
        <div class="card-body p-4">
            <form method="post" novalidate>
                {% csrf_token %}

                <div class="mb-3">
                    <label for="customer_name" class="form-label">T√™n kh√°ch h√†ng</label>
                    <input type="text" name="customer_name" id="customer_name" class="form-control"
                        placeholder="Nh·∫≠p t√™n kh√°ch h√†ng" required>
                </div>

                <div class="mb-3">
                    <label for="phone" class="form-label">S·ªë ƒëi·ªán tho·∫°i kh√°ch</label>
                    <input type="tel" name="phone" id="phone" class="form-control" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i"
                        pattern="[0-9]{10}" required>
                </div>

                <div class="mb-3">
                    <label for="num_people" class="form-label">S·ªë ng∆∞·ªùi ƒëi</label>
                    <!-- <input type="number" name="num_people" id="num_people" class="form-control" min="1" max="10"
                        value="1" required> -->
                    <select name="num_people" id="num_people" class="form-select" required>
                        <option value="1">1 ng∆∞·ªùi</option>
                        <option value="2">2 ng∆∞·ªùi</option>
                        <option value="3">3 ng∆∞·ªùi</option>
                        <option value="4">4 ng∆∞·ªùi</option>
                        <option value="5">5 ng∆∞·ªùi</option>
                        <option value="6">6 ng∆∞·ªùi</option>
                        <option value="bao_xe">Bao xe</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="pickup_location" class="form-label">ƒê·ªãa ƒëi·ªÉm ƒë√≥n kh√°ch</label>
                    <input type="text" name="pickup_location" id="pickup_location" class="form-control"
                        placeholder="Nh·∫≠p ƒë·ªãa ƒëi·ªÉm ƒë√≥n kh√°ch" required>
                </div>

                <div class="mb-3">
                    <label for="dropoff_location" class="form-label">ƒê·ªãa ƒëi·ªÉm tr·∫£ kh√°ch</label>
                    <input type="text" name="dropoff_location" id="dropoff_location" class="form-control"
                        placeholder="Nh·∫≠p ƒë·ªãa ƒëi·ªÉm tr·∫£ kh√°ch" required>
                </div>

                <div class="mb-3">
                    <label for="pickup_time" class="form-label">Th·ªùi ƒëi·ªÉm ƒë√≥n kh√°ch</label>
                    <input type="datetime-local" name="pickup_time" id="pickup_time" class="form-control" required>
                </div>

                <div class="mb-4">
                    <label for="status" class="form-label">Tr·∫°ng th√°i chuy·∫øn ƒëi</label>
                    <select name="status" id="status" class="form-select" required>
                        <option value="ƒêang ch·ªù t√†i x·∫ø">ƒêang ch·ªù t√†i x·∫ø</option>
                        <option value="ƒê√£ nh·∫≠n t√†i x·∫ø">ƒê√£ nh·∫≠n t√†i x·∫ø</option>
                        <option value="K·∫øt th√∫c chuy·∫øn ƒëi">K·∫øt th√∫c chuy·∫øn ƒëi</option>
                    </select>
                </div>

                <div class="text-center">
                    <button type="submit" class="btn btn-create">
                        üöÄ Kh·ªüi t·∫°o chuy·∫øn ƒëi
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- ‚úÖ Script ki·ªÉm tra form -->
    <script>
        document.querySelector("form").addEventListener("submit", function (event) {
            const requiredFields = [
                "customer_name",
                "phone",
                "num_people",
                "pickup_location",
                "dropoff_location",
                "pickup_time",
                "status"
            ];

            let isValid = true;
            let missing = [];

            requiredFields.forEach(id => {
                const el = document.getElementById(id);
                if (!el.value.trim()) {
                    el.classList.add("is-invalid");
                    isValid = false;
                    missing.push(el.previousElementSibling.textContent);
                } else {
                    el.classList.remove("is-invalid");
                }
            });

            if (!isValid) {
                event.preventDefault();
                alert("‚ö†Ô∏è Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c th√¥ng tin b·∫Øt bu·ªôc:\n" + missing.join(", "));
            }
        });
    </script>
</body>

</html>